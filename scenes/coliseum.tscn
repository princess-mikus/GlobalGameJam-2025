[gd_scene load_steps=16 format=3 uid="uid://dd7xyrk3h6ey4"]

[ext_resource type="Script" path="res://addons/phantom_camera/scripts/phantom_camera_host/phantom_camera_host.gd" id="1_3cxyh"]
[ext_resource type="PackedScene" uid="uid://brnkx57g2q4mu" path="res://scenes/player.tscn" id="1_6m13s"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/phantom_camera/phantom_camera_3d.gd" id="1_rtuli"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/resources/tween_resource.gd" id="2_aaclb"]
[ext_resource type="Script" path="res://scripts/play_zone.gd" id="2_i3e4t"]
[ext_resource type="Script" path="res://scripts/wave_maker.gd" id="3_mt105"]
[ext_resource type="AudioStream" uid="uid://bxdpol50682q5" path="res://resources/pompa cargando.mp3" id="3_ux2aq"]
[ext_resource type="AudioStream" uid="uid://ddxcsahuct1db" path="res://resources/recarga chicle.mp3" id="4_ijfjp"]
[ext_resource type="AudioStream" uid="uid://diy8ehx1cukho" path="res://resources/INTRO.mp3" id="5_ctkqs"]
[ext_resource type="AudioStream" uid="uid://x8ymeek3ym5o" path="res://resources/NEW ROUND.mp3" id="6_t00y0"]
[ext_resource type="AudioStream" uid="uid://bji7vt2v3toh7" path="res://resources/LOOP.mp3" id="7_fcxw7"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_ftxh5"]

[sub_resource type="CylinderMesh" id="CylinderMesh_y01ol"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_k6ckx"]

[sub_resource type="Resource" id="Resource_dmwmr"]
script = ExtResource("2_aaclb")
duration = 1.0
transition = 0
ease = 2

[node name="Coliseum" type="Node3D"]

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.869133, 0.494579, 0, -0.494579, 0.869133, 0, 0.895, 1.975)
projection = 1
fov = 116.76
size = 1.80756

[node name="RichTextLabel" type="RichTextLabel" parent="Camera3D"]
offset_right = 1152.0
offset_bottom = 137.0
bbcode_enabled = true
text = "[font_size=100][center][font=res://resources/font.ttf] Wave 1"
fit_content = true
scroll_active = false

[node name="PhantomCameraHost" type="Node" parent="Camera3D"]
process_priority = 300
process_physics_priority = 300
script = ExtResource("1_3cxyh")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.998324, -0.0428357, 0.0389143, 0.0118868, 0.809853, 0.586513, -0.0566385, -0.585067, 0.809005, -0.0228071, 0.856767, 1.6046)

[node name="StaticBody3D" type="StaticBody3D" parent="."]
transform = Transform3D(5, 0, 0, 0, 5, 0, 0, 0, 5, 0, 0, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)
shape = SubResource("CylinderShape3D_ftxh5")

[node name="MeshInstance3D" type="MeshInstance3D" parent="StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)
mesh = SubResource("CylinderMesh_y01ol")

[node name="Player" parent="." instance=ExtResource("1_6m13s")]

[node name="PlayZone" type="Area3D" parent="."]
transform = Transform3D(5, 0, 0, 0, 5, 0, 0, 0, 5, 0, 0, 0)
script = ExtResource("2_i3e4t")

[node name="CollisionShape3D" type="CollisionShape3D" parent="PlayZone"]
shape = SubResource("CylinderShape3D_k6ckx")

[node name="Timer" type="Timer" parent="PlayZone"]

[node name="waveMaker" type="Node" parent="."]
script = ExtResource("3_mt105")

[node name="start" type="AudioStreamPlayer" parent="waveMaker"]
stream = ExtResource("5_ctkqs")
volume_db = 1.0

[node name="end" type="AudioStreamPlayer" parent="waveMaker"]
stream = ExtResource("6_t00y0")
volume_db = 1.0

[node name="loop" type="AudioStreamPlayer" parent="waveMaker"]
stream = ExtResource("7_fcxw7")
parameters/looping = true

[node name="Timer" type="Timer" parent="waveMaker"]
one_shot = true

[node name="PhantomCamera3D" type="Node3D" parent="." node_paths=PackedStringArray("follow_target")]
transform = Transform3D(1, 0, 0, 0, 0.869132, 0.494579, 0, -0.494579, 0.869132, 0, 0.895, 1.975)
top_level = true
script = ExtResource("1_rtuli")
follow_mode = 2
follow_target = NodePath("../Player")
tween_resource = SubResource("Resource_dmwmr")
follow_offset = Vector3(0, 0.895, 1.975)

[node name="hit" type="AudioStreamPlayer" parent="."]

[node name="charge" type="AudioStreamPlayer" parent="."]
stream = ExtResource("3_ux2aq")

[node name="recharge" type="AudioStreamPlayer" parent="."]
stream = ExtResource("4_ijfjp")

[connection signal="body_exited" from="PlayZone" to="PlayZone" method="_on_body_exited"]
[connection signal="timeout" from="PlayZone/Timer" to="PlayZone" method="_on_timer_timeout"]
[connection signal="timeout" from="waveMaker/Timer" to="waveMaker" method="_on_timer_timeout"]
